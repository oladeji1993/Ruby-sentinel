<div class="create-rule">
  <div class="content">
    <div class="title">
      <span><img src="/assets/images/dashboard/rule-icon.svg" alt="" /></span>
      &nbsp; &nbsp;Create New Static Rule Wizard
    </div>
    <div class="close">
      <img
        (click)="closeModal('close')"
        src="/assets/images/dashboard/close.svg"
        alt=""
      />
    </div>
  </div>
  <div class="divider"></div>

  <div class="main-container">
    <p>
      Enter your rule parameters and configurations to setup a new rule for
      monitoring.
    </p>
    <form [formGroup]="staticRuleForm" (ngSubmit)="setRule()">
      <div class="rule-list">1. Rules Information</div>
      <div class="form-container">
        <div class="input-container">
          <label class="label"> Rule Name </label>
          <input
            matInput
            formControlName="name"
            class="custom-input form-control"
            type="text"
          />
          <mat-error
            class="alert"
            *ngIf="
              (staticRuleFormControl['name'].touched || submitted) &&
              staticRuleFormControl['name']?.invalid
            "
          >
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage("name") }}
          </mat-error>
        </div>
        <div class="input-container">
          <label class="label" for="email"> Description </label>
          <textarea
            placeholder="Type here"
            formControlName="description"
          ></textarea>
          <mat-error
            class="alert"
            *ngIf="
              (staticRuleFormControl['description'].touched || submitted) &&
              staticRuleFormControl['description']?.invalid
            "
          >
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage("description") }}
          </mat-error>
        </div>

        <div class="rule-list rule-item">2. Transaction Criteria</div>
        <div class="criteria-container">
          <div class="input-container">
            <select formControlName="criteria" style="width: 100%">
              <option>Currency</option>
              <option>Amount</option>
              <option>Payment_Type</option>
              <option>To_Bank</option>
              <option>Channel</option>
              <option>Time_Of_Day</option>
              <option>Narration</option>
            </select>
            <mat-error
              class="alert"
              *ngIf="
                (staticRuleFormControl['criteria'].touched || submitted) &&
                staticRuleFormControl['criteria']?.invalid
              "
            >
              <img
                src="/assets/icons/error.svg"
                alt=""
                class="img-fluid error-icon"
              />
              {{ getErrorMessage("criteria") }}
            </mat-error>
          </div>

          <div class="input-container">
            <label class="label"> Value </label>
            <select formControlName="criteriaValue" style="width: 100%">
              <option
                *ngFor="let currency of allAvailableCurrency"
                [value]="currency.name"
              >
                {{ currency?.name }}
              </option>
            </select>
          </div>
        </div>
        <div class="add-btn">+ Add Criteria</div>
      </div>

      <div class="btns">
        <div>
          <button type="button" (click)="closeModal('close')" class="cancel">
            Cancel
          </button>
        </div>
        <div>
          <button type="submit" class="action-btn">
            <span *ngIf="!loading"> Continue </span>
            <span class="flex justify-center">
              <mat-spinner
                *ngIf="loading"
                diameter="21"
                class="mat-spinner-color"
              ></mat-spinner>
            </span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
